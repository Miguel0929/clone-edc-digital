- content_for :title  do
  Programas - EDCdigital

.container-fluid.container-fixed-lg.top-container-padding.minus-30
  %section.demo-bg-section.p-b-15.p-t-30.panel-title-emprendimiento
    .container
      .md-p-l-20.md-p-r-20.xs-no-padding
        .row
          .col-sm-4.col-md-4.no-padding.xs-p-l-15.xs-p-r-15
            %h2.text-white 
              Programas de Aprendizaje
          .col-sm-8.col-md-6.col-md-offset-1.no-padding.xs-p-l-15.xs-p-r-15
            %h5.text-white
              Es tiempo de construir y validar tu idea de negocio...
            %p.m-b-25.text-white
              Utiliza estos cursos de e-learning para capacitarte en términos y conceptos que te permitirán construir una idea de negocio viable en lo comercial, digital, técnico y financiero. ¡Empecemos tu emprendimiento!

.container-fluid.container-fixed-lg
  .row
    .col-md-12
      .panel.panel-transparent
        .panel-body   
          = bootstrap_form_tag(url: dashboard_programs_path, method: :get) do |f|
            .row
              .col-md-2
                = f.select :tipo, options_for_select([['e-learning', 'elearning'], ['Construccion de idea de negocios', 'construccion'], ['Fúsion', 'fusion']], params[:tipo]), {prompt: "Todos", label: 'Tipo: ' }
              .col-md-2.col-md-offset-1
                = f.select :level, options_for_select([['Básico', 'basico'], ['Intermedio', 'intermedio'],['Avanzado', 'avanzado']], params[:level]), {prompt: "Todos", label: 'Nivel de dificultad: ' }  
              .col-md-2.col-md-offset-1
                = f.select :orden, options_for_select([['Tipo de Programa', 'tipo'], ['Ruta de Aprendizaje', 'ruta'],['Orden Alfabético', 'abc']], params[:orden]), {prompt: "Ordena tus programas", label: 'Orden: ' }
              .col-md-2.col-md-offset-1{:style =>"position: relative; top:20px;"}
                = f.submit 'Filtrar programas', :class => 'btn btn-sm btn-primary programs-filter-btn' 
          %br
          - unless @programs.nil?    
            - @programs.each do |program|
              .col-md-4.col-sm-6.col-xs-12.tarjeta-programa
                .card.share.share-other{"data-social" => "item"}
                  .card-content
                    %a{:href => dashboard_program_path(program)}
                      = image_tag(program.cover.url)
                    %a{:href => dashboard_program_path(program)}
                      .card-header.clearfix
                        %h5
                          = program.name
                        %h6
                          = program.description
                  - @current_user.programs.each do |personal|
                    - if program.name == personal.name
                      .p-b-10
                        - if @current_user.percentage_questions_answered_for(program) == 0 && @current_user.percentage_content_visited_for(program) == 0
                          .p-b-10.p-r-15.p-l-15.m-b-10.m-t-5
                            .no-margin.pull-left{:style => "color: #5B4D91;"}
                              Curso no iniciado
                        - elsif @current_user.percentage_questions_answered_for(program) == 0 && @current_user.percentage_content_visited_for(program) > 0
                          .p-b-10.p-r-15.p-l-15.m-b-10.m-t-5
                            .no-margin.pull-left{:style => "color: #5B4D91;"}
                              Curso no contestado
                        - else @current_user.percentage_questions_answered_for(program) > 0 && @current_user.percentage_content_visited_for(program) > 0
                          .progress.m-b-5
                            .progress-bar.progress-bar-primary{:style => "width:#{@current_user.percentage_questions_answered_for(program)}%"}
                          .p-b-10.p-r-15.p-l-15.m-b-10.m-t-5
                            .no-margin.pull-right{:style => "color: #ada4d1;"}
                              #{@current_user.percentage_content_visited_for(program)}% visto
                            .no-margin.pull-left{:style => "color: #5B4D91;"}
                              #{@current_user.percentage_questions_answered_for(program)}% contestado 
