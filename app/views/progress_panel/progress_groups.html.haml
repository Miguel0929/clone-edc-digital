- content_for :title  do
	Progreso por grupos - EDC Digital

.container-fluid.container-fixed-lg
	.panel.panel-default
		.panel-heading
			.row.m-b-20
				.col-sm-6
					.panel-title
						Progreso por grupos 
				.col-sm-6.no-opacity
					.pull-right
						= link_to progress_panel_index_path do
							.btn.btn-info{style: "white-space: normal !important; word-wrap: break-word;"}
								%i.fa.fa-globe
								Regresar a progreso general de EDC
		.panel-body
			.pull-left.p-b-10
				.no-opacity.p-l-0
					%h3 Reporte de avances por grupo
			.pull-right.p-b-10
				%input#search-table.form-control{:placeholder => "Search", :type => "text"}/
			.clearfix
			.row
				.col-sm-12
					%table.table.table-hover.datatable
						%thead
							%tr
								%th
									Grupo
								%th.text-center
									0% a 29%
								%th.text-center
									30% a 49%
								%th.text-center
									50% a 69%
								%th.text-center
									70% a 100%
								%th.text-center{width: "10%"}
									Total
						%tbody
							- @groups.each do |group|
								%tr
									- group_stat = get_all_group_progress_strata(group)
									- hundred, seventy, fifty, thirty, sumatory = group_stat[0], group_stat[1], group_stat[2], group_stat[3], group_stat.inject(0){|sum,x| sum + x } 
									%td.p-b-15
										= link_to group.name, progress_panel_path(group)
									%td.text-center.p-b-15
										= #{((thirty.to_f / sumatory) * 100).round(1)}
										= thirty
									%td.text-center.p-b-15
										= #{((fifty.to_f / sumatory) * 100).round(1)}
										= fifty
									%td.text-center.p-b-15
										= #{((seventy.to_f / sumatory) * 100).round(1)}
										= seventy
									%td.text-center.p-b-15
										= #{((hundred.to_f / sumatory) * 100).round(1)}
										= hundred
									%td.text-center.p-b-15
										= sumatory

